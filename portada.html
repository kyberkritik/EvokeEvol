<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>:Evoke Evol: — Génesis y Catástrofe del Programa</title>
<style>
:root{
  --bg:#0b0f14;
  --ink:#d7e8ff;
  --emerald:#10b981;
  --metablue:#4ea9ff;
  --ochre:#cc7722;
}
html,body{margin:0;height:100%;background:var(--bg);overflow:hidden;
  color:var(--ink);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto;}
svg{position:fixed;inset:0;width:100%;height:100%;display:block;}
button{cursor:pointer}
#ui{position:fixed;left:16px;top:16px;z-index:20;display:flex;gap:.5rem;}
.btn{
  border:none;border-radius:12px;padding:.55rem .9rem;font-weight:700;
  background:linear-gradient(180deg,#1b2a3a,#0d1826);
  color:#cfe8ff;box-shadow:0 0 0 1px rgba(78,169,255,.3),
  0 8px 24px rgba(0,0,0,.45),inset 0 0 16px rgba(16,185,129,.08);
}
.btn:hover{transform:translateY(-1px)}
#credits{position:fixed;right:16px;bottom:10px;z-index:20;font-size:.85rem;opacity:.85;}
.title{
  position:fixed;top:24px;left:50%;transform:translateX(-50%);
  font-size:1.6rem;font-weight:700;color:var(--emerald);
  text-shadow:0 0 12px rgba(16,185,129,.4);
  letter-spacing:.5px;z-index:12;
}
/* etiquetas flotantes */
.tag{font-family:"IBM Plex Mono",monospace;font-size:12px;fill:var(--ink);opacity:.8;}
.grain{position:fixed;inset:0;pointer-events:none;opacity:.14;
  background-image:
    repeating-linear-gradient(90deg,rgba(255,255,255,.04)0 1px,transparent 1px 3px),
    repeating-linear-gradient(0deg,rgba(255,255,255,.03)0 1px,transparent 1px 3px);
}
</style>
</head>
<body>

<div id="ui">
  <button id="playBtn" class="btn">▶ Audio</button>
  <button id="pauseBtn" class="btn">⏸</button>
</div>
<div id="credits">Hor Kardelj 2025-2026 | Eumeswil</div>
<div class="title">:Evoke Evol:</div>

<!-- escena -->
<svg id="scene" viewBox="0 0 1600 900" preserveAspectRatio="xMidYMid slice">
  <defs>
    <!-- brillos -->
    <filter id="glowBlue"><feGaussianBlur stdDeviation="2" result="g"/><feMerge><feMergeNode in="g"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
    <filter id="glowGreen"><feGaussianBlur stdDeviation="2" result="g"/><feMerge><feMergeNode in="g"/><feMergeNode in="SourceGraphic"/></feMerge></filter>

    <!-- cielo ruido -->
    <filter id="static">
      <feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" seed="7" stitchTiles="stitch"/>
      <feColorMatrix type="matrix"
        values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 1 0"/>
    </filter>

    <!-- gradientes -->
    <linearGradient id="roadGrad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#0b1520"/><stop offset="100%" stop-color="#02080e"/>
    </linearGradient>
    <linearGradient id="laneGrad" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%" stop-color="rgba(78,169,255,.95)"/>
      <stop offset="100%" stop-color="rgba(16,185,129,.95)"/>
    </linearGradient>

    <!-- Moto -->
    <g id="moto">
      <rect x="-24" y="-8" width="48" height="16" rx="8" fill="#10b981" filter="url(#glowGreen)"/>
      <circle cx="-16" cy="16" r="14" fill="#1a2634" stroke="#4ea9ff" stroke-width="3"/>
      <circle cx="16" cy="16" r="14" fill="#1a2634" stroke="#4ea9ff" stroke-width="3"/>
      <rect x="-22" y="-20" width="24" height="10" fill="#4ea9ff"/>
      <polygon points="6,-20 26,-8 8,-8" fill="#cc7722"/>
    </g>

    <!-- Motoko-like -->
    <g id="MiChar" transform="scale(1.2)">
      <ellipse cx="0" cy="-14" rx="8" ry="10" fill="#6ee7ff" stroke="#4ea9ff" stroke-width="1.5"/>
      <rect x="-8" y="-4" width="16" height="20" rx="4" fill="#3e3e6b" stroke="#6ee7ff"/>
      <rect x="-6" y="16" width="12" height="6" fill="#10b981"/>
      <rect x="-12" y="22" width="8" height="6" fill="#4ea9ff"/>
      <rect x="4" y="22" width="8" height="6" fill="#4ea9ff"/>
    </g>

    <!-- Batou-like -->
    <g id="HeChar" transform="scale(1.2)">
      <ellipse cx="0" cy="-14" rx="9" ry="10" fill="#9ed2ff" stroke="#4ea9ff" stroke-width="1.5"/>
      <rect x="-9" y="-4" width="18" height="22" rx="4" fill="#243545" stroke="#4ea9ff"/>
      <rect x="-7" y="16" width="14" height="6" fill="#cc7722"/>
      <rect x="-12" y="22" width="8" height="6" fill="#10b981"/>
      <rect x="4" y="22" width="8" height="6" fill="#10b981"/>
    </g>

    <!-- Tachikoma -->
    <g id="tachi">
      <circle cx="0" cy="0" r="12" fill="#4ea9ff" filter="url(#glowBlue)"/>
      <circle cx="-9" cy="10" r="6" fill="#10b981" opacity=".9"/>
      <circle cx="9" cy="10" r="6" fill="#10b981" opacity=".9"/>
      <rect x="-6" y="12" width="12" height="3" fill="#cc7722" opacity=".8"/>
    </g>
  </defs>

  <!-- cielo -->
  <rect width="1600" height="520" fill="#0e1520" filter="url(#static)"/>

  <!-- ciudad -->
  <g opacity=".45">
    <rect x="100" y="200" width="80" height="300" fill="#0d1b2a"/>
    <rect x="240" y="220" width="120" height="280" fill="#0f2132"/>
    <rect x="420" y="190" width="150" height="310" fill="#0f2336"/>
    <rect x="620" y="200" width="130" height="300" fill="#0d1b2a"/>
    <rect x="780" y="180" width="140" height="320" fill="#0f2132"/>
    <rect x="960" y="210" width="120" height="290" fill="#0f2336"/>
    <rect x="1140" y="190" width="140" height="310" fill="#0d1b2a"/>
    <rect x="1320" y="210" width="120" height="290" fill="#0f2132"/>
  </g>

  <!-- carretera -->
  <polygon points="760,520 840,520 1280,900 320,900" fill="url(#roadGrad)"/>
  <line x1="800" y1="520" x2="800" y2="900" stroke="url(#laneGrad)" stroke-width="2" filter="url(#glowBlue)"/>

  <!-- moto -->
  <g transform="translate(800,600)">
    <use href="#moto"/>
  </g>

  <!-- He / Mi -->
  <g transform="translate(1180,560)">
    <use href="#HeChar"/>
  </g>
  <g transform="translate(260,560)">
    <use href="#MiChar"/>
  </g>

  <!-- tachikomas -->
  <use href="#tachi" transform="translate(620,480)"/>
  <use href="#tachi" transform="translate(980,460) scale(0.8)"/>
  <use href="#tachi" transform="translate(800,430) scale(0.9)"/>
</svg>

<div class="grain"></div>

<script>
/* Audio minimal 8-bit, ~2 min */
let ctx=null;let started=false;
const playBtn=document.getElementById('playBtn');
const pauseBtn=document.getElementById('pauseBtn');
playBtn.onclick=async()=>{
  if(!ctx){
    ctx=new (window.AudioContext||window.webkitAudioContext)();
    const main=ctx.createGain();main.gain.value=0.5;main.connect(ctx.destination);
    const tempo=112,beat=60/tempo,start=ctx.currentTime+0.05;
    for(let i=0;i<64;i++){
      const o=ctx.createOscillator(),g=ctx.createGain();
      o.type='square';o.frequency.value=220+Math.sin(i*0.3)*80;
      g.gain.setValueAtTime(0.2,start+i*beat/2);
      g.gain.exponentialRampToValueAtTime(0.001,start+i*beat/2+0.4);
      o.connect(g).connect(main);o.start(start+i*beat/2);o.stop(start+i*beat/2+0.5);
    }
  }
  if(ctx.state==='suspended')await ctx.resume();
  started=true;
};
pauseBtn.onclick=async()=>{if(ctx)ctx.state==='running'?await ctx.suspend():await ctx.resume();};
</script>
</body>
</html>